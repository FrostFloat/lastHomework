<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>个人信息展示</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>


</head>
<body>

<form class="form-horizontal" role="form" id="displayImfForm" th:object="${session.User}" action="/user/update">
    <div class="form-group">
        <label class="col-sm-2 control-label">UID</label>
        <div class="col-sm-10">
            <p class="form-control-static" th:text="*{getId()}">uid</p>
        </div>
    </div>
    <div class="form-group">
        <label for="NickName" class="col-sm-2 control-label">昵称</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="nickName" name="nickName" th:value="*{getNickName()}" placeholder="昵称" readonly="readonly">
        </div>
    </div>
    <div class="form-group">
        <label for="phone" class="col-sm-2 control-label">电话号码</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="phone" name="phone" th:value="*{getPhone()}" placeholder="电话号码" readonly="readonly">
        </div>
    </div>
    <div class="form-group">
        <label for="RealName" class="col-sm-2 control-label">真实姓名</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="realName" name="realName" th:value="*{getRealName()}" placeholder="真实姓名" readonly="readonly">
        </div>
    </div>

</form>
<div id="buttonGroup" style="text-align: center">
    <button id="update" class="btn btn-primary" onclick="unlock()">编辑</button>&emsp;&emsp;
    <button id="submit" class="btn btn-primary" onclick="lock()">保存</button>
</div>

</body>
<script>
    //解除readonly
    function unlock() {
        alert("开启编辑");
        var list = document.getElementsByTagName("input");//获取所有input
        for(var i=0;i<list.length && list[i];i++){
            if(list[i].type == "text"){//筛选
                list[i].readOnly = "";
            }
        }
    }
    //readonly
    function lock() {
        var list = document.getElementsByTagName("input");//获取所有input
        for(var i=0;i<list.length && list[i];i++){
            if(list[i].type == "text"){//筛选
                list[i].readOnly = "readonly";
            }
        }
        document.getElementById("displayImfForm").submit();
    }
</script>
</html>